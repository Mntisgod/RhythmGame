# RhythnGame
京都大学工学部情報学科計算機科学コースの学生実験_DBの課題で選択した音ゲー．課題提出用も兼ね，りどみを整備する．

## 本アプリケーションの説明
データベースを利用するアプリケーションならなんでもいいとのことなので，私は音楽ゲームを開発する．

## 利用者の役割の列挙と説明
音楽ゲームの利用者は，以下の2種類に分類可能である．
- player:
  ゲームを遊ぶ人間．
- developer:
  譜面を開発して楽曲リストに追加して遊べるようにする人間．

## 各役割の機能の列挙と説明
### player
文字通りこのゲームを遊んでくれる人である．playerには，以下の機能を利用する権限を付与する予定．
- スコアランキング取得機能
- 楽曲検索, sort機能
- 画面で指定した譜面をプレイする機能
 - 譜面取得機能
 - スコア送信機能

### developer
ユーザーによる拡張性を期待したく作った役割である，詳細には，以下の機能が利用できる．
- 譜面データ追加機能

 - ジャケット画像のCRUD
 - 難易度+譜面のCRUD
 - 楽曲のCRUD

## 実体関連図とその説明

以下に各機能を実現するにあたって必要な実体や属性をまとめたER図を掲載する．
![スクリーンショット 2023-10-06 13 47 43](https://github.com/Mntisgod/isle4RhythmGame/assets/83445886/6ef7a7af-6087-4f89-9472-ea7454ea3553)

各実体集合，関連集合についての説明は以下に記す．

### 実体集合
#### player
名前のせいで複雑になってしまっているが，ここではdeveloperも含んだこのゲームに関わる人間としてのplayerとしている．この実体集合は．以下の属性と結びつく．

 - id <int>
  主キーとなるidで，playerに対して一意的に定められる
 - name <string>
  ユーザーネーム．
 - pass(hashed) <string>
  パスワード(ハッシュ化済)
 - mail address <string>
  メアド．

#### chart
ゲームの譜面である．譜面は，ユーザー(developer)が制作したものであったり，公式に管理人が作ったりしたものである．

実体songsは実体chartはと一対多の関係にある，(∵一つの曲に対し譜面は複数存在しうる．)

また，chartとnotesは一対多の関係にある．

playerとは多対多の関係にある．(ユーザー*譜面の数通りの組が存在しうる．)

属性としては，以下のものをもつ．
- chart_id <int>
譜面に対して振られる一意の番号．主キーとなる．
- chart_designer <string>
譜面を制作した人物の名前を格納できる．
#### notes
譜面の内部データとして保持される，notesの実体である．notesは，以下の属性を所有している．
- note_id (int)
  ノーツに対して振られる一意の番号．主キーとなる．
- note_type (int)
  ノーツの種類を表す．内容はまだ決めてません．
- timing (float or double，未定)
  判定されるべきタイミングをゲーム内時間で格納する．

#### songs
楽曲の実体である．以下の属性を保持している．
- song_id (int)
楽曲に対して振られる一意の番号．主キーとなる．
- difficulty (int)
楽曲の難易度を表す．
- title (string)
楽曲のタイトルを表す．
- composer_name (string)
作曲者の名前を格納する．
- file_path (string)
再生元の音源へのパス．

#### その他属性
playerとchartの2つの実態に依存した属性である．
- favorites [int (chart_id)]
各playerの好みの譜面を登録することができる．chart_idを格納することで対応．
- best_score [int]
playerの最高得点を記録する．

以上の機能を搭載した音楽ゲームを作ろうと思う．
